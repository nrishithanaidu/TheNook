<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Nook Cinema — Box Office</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=EB+Garamond:wght@400;500;600&display=swap" rel="stylesheet" />

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

  <style>
    :root {
      --bg-deep: #050508;
      --bg-panel: #12050a;
      --bg-panel-alt: #1b060b;
      --red-deep: #2b0508;
      --red-main: #4d080c;
      --red-light: #7c1118; /* Curtain/velvet color */
      --gold: #ffc857;
      --gold-soft: #ffdf99;
      --text-main: #f8e9d9;
      --text-muted: #c7b3a1;
      --border-film: #20100b;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "EB Garamond", serif;
      background: radial-gradient(circle at top, #111018 0, #050508 45%, #000 100%);
      color: var(--text-main);
      overflow-x: hidden;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page-wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px 16px 80px;
    }

    /* ---------- marquee header ---------- */

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      margin-bottom: 16px;
      border-radius: 999px;
      border: 1px solid rgba(255, 200, 87, 0.5);
      color: var(--gold);
      font-size: 14px;
      background: rgba(0,0,0,0.4);
      cursor: pointer;
    }

    .back-link i {
      font-size: 12px;
    }

    .bo-header-outer {
      margin-top: 8px;
      padding: 18px;
      border-radius: 22px;
      border: 2px solid rgba(255, 200, 87, 0.9);
      background: radial-gradient(circle at top, rgba(255,255,255,0.06) 0, transparent 55%),
                  radial-gradient(circle at bottom, rgba(255, 200, 87, 0.3) 0, transparent 60%);
      /* Light bulb glow effect */
      box-shadow:
        0 0 10px rgba(255, 200, 87, 0.8),
        0 0 20px rgba(255, 200, 87, 0.6),
        0 0 30px rgba(255, 200, 87, 0.4);
      position: relative;
      /* Animation */
      animation: pulseGlow 2.5s infinite ease-in-out alternate;
    }

    /* Animation definition for pulse glow */
    @keyframes pulseGlow {
      0% {
        box-shadow: 0 0 10px rgba(255, 200, 87, 0.8), 0 0 20px rgba(255, 200, 87, 0.6), 0 0 30px rgba(255, 200, 87, 0.4);
      }
      100% {
        box-shadow: 0 0 15px var(--gold-soft), 0 0 25px var(--gold), 0 0 40px rgba(255, 200, 87, 0.6);
      }
    }


    /* little bulbs around frame (now just the border) */
    .bo-header-outer::before {
      content: "";
      position: absolute;
      inset: 8px;
      border-radius: 18px;
      border: 2px dashed rgba(255, 215, 130, 0.9);
      pointer-events: none;
    }

    .bo-header-inner {
      border-radius: 16px;
      padding: 24px 32px 26px;
      text-align: center;
      /* Adjusted gradient for maroon theme */
      background: linear-gradient(180deg, var(--red-light) 0%, var(--red-main) 52%, var(--red-deep) 100%);
      box-shadow: inset 0 0 40px rgba(0,0,0,0.8);
    }

    .bo-title {
      font-family: "Cinzel", serif;
      font-size: clamp(32px, 4vw, 44px);
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--gold);
    }

    .bo-title i {
      font-size: 26px;
      vertical-align: middle;
      margin: 0 6px;
    }

    .bo-subtitle {
      margin-top: 10px;
      font-size: 14px;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      color: var(--gold-soft);
    }

    /* --- Cinematic Opening Transition --- */
    #curtain-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--red-deep); /* Background behind curtains */
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .curtain {
        width: 50%;
        height: 100%;
        background-color: var(--red-light); /* FIXED: Using defined maroon color */
        transition: transform 0.8s ease-in-out; /* REDUCED ANIMATION TIME */
        position: absolute;
        top: 0;
        box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.9);
    }
    #left-curtain { left: 0; }
    #right-curtain { right: 0; }
    #left-curtain.open { transform: translateX(-100%); }
    #right-curtain.open { transform: translateX(100%); }
    #curtain-overlay.fade-out { opacity: 0; transition: opacity 0.5s 0.8s; pointer-events: none; }
    
    /* NEW: Styling for the large ACTION! text */
    .action-text {
        font-size: 8vw; /* Large size, responsive */
        color: var(--gold);
        text-shadow: 0 0 10px var(--gold-soft), 0 0 20px var(--gold);
        font-family: "Cinzel", serif;
        animation: actionPulse 0.5s infinite alternate; /* Quick pulse for emphasis */
    }
    @keyframes actionPulse {
        0% { transform: scale(1); }
        100% { transform: scale(1.05); }
    }


    /* ---------- search / filters bar ---------- */

    .search-bar-row {
      margin-top: 26px;
      padding: 14px 18px;
      border-radius: 16px;
      background: radial-gradient(circle at top, rgba(255,255,255,0.05) 0, transparent 60%),
                  #110306;
      border: 1px solid rgba(255, 200, 87, 0.38);
      display: flex;
      gap: 16px;
      align-items: center;
      flex-wrap: wrap;
    }

    .search-input-wrap {
      flex: 1 1 260px;
      position: relative;
    }

    .search-input-wrap i {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
      font-size: 14px;
    }

    .search-input {
      width: 100%;
      padding: 9px 12px 9px 32px;
      border-radius: 999px;
      border: 1px solid rgba(255, 200, 87, 0.4);
      background: rgba(5, 5, 8, 0.85);
      color: var(--text-main);
      font-size: 14px;
      outline: none;
    }

    .search-input::placeholder {
      color: var(--text-muted);
    }

    .filter-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .filter-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 7px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255, 200, 87, 0.7);
      font-size: 13px;
      color: var(--gold-soft);
      background: radial-gradient(circle at top, rgba(255,255,255,0.08) 0, transparent 60%),
                  #120308;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
    }

    .filter-pill i {
      font-size: 11px;
    }

    .filter-pill.active, .filter-pill:hover {
      background: var(--red-main);
      box-shadow: 0 0 10px rgba(255, 200, 87, 0.5);
    }

    /* ---------- section banners ---------- */

    .section {
      margin-top: 48px;
    }

    .section-banner {
      margin: 0 auto 18px;
      max-width: 640px;
      text-align: center;
      padding: 18px 24px 20px;
      border-radius: 999px;
      background: linear-gradient(180deg, #5a090f 0%, #260104 60%, #120104 100%);
      border: 1px solid rgba(255, 200, 87, 0.9);
      box-shadow:
        0 0 26px rgba(0,0,0,0.8),
        0 12px 24px rgba(0,0,0,0.75);
      position: relative;
    }

    .section-banner::before {
      content: "";
      position: absolute;
      inset: 6px;
      border-radius: inherit;
      border: 1px dashed rgba(255, 200, 87, 0.6);
      opacity: 0.9;
    }

    .section-banner-title {
      font-family: "Cinzel", serif;
      letter-spacing: 0.22em;
      font-size: 18px;
      text-transform: uppercase;
      color: var(--gold);
    }

    .section-banner-sub {
      margin-top: 4px;
      font-size: 11px;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--gold-soft);
    }

    .section-banner .icon {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      color: var(--gold-soft);
    }
    .section-banner .icon.left { left: 22px; }
    .section-banner .icon.right { right: 22px; }

    /* ---------- movie card row ---------- */

    .card-row {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding-bottom: 10px;
      padding-top: 4px;
      scrollbar-color: #4a070c transparent;
      scrollbar-width: thin;
    }

    .card-row::-webkit-scrollbar {
      height: 6px;
    }
    .card-row::-webkit-scrollbar-track {
      background: transparent;
    }
    .card-row::-webkit-scrollbar-thumb {
      background: #4a070c;
      border-radius: 999px;
    }

    .movie-card {
      flex: 0 0 210px;
      background: radial-gradient(circle at top, rgba(255,255,255,0.05) 0, transparent 60%),
                  #130308;
      border-radius: 18px;
      border: 2px solid rgba(255, 200, 87, 0.8);
      box-shadow:
        0 12px 26px rgba(0,0,0,0.9),
        0 0 36px rgba(0,0,0,0.85);
      display: flex;
      flex-direction: column;
      padding: 10px 10px 14px;
      position: relative;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.3s;
    }

    .movie-card.hidden-filter {
      display: none;
    }


    .movie-card:hover {
      transform: translateY(-6px);
      box-shadow:
        0 18px 36px rgba(0,0,0,0.95),
        0 0 50px rgba(255, 200, 87, 0.36);
    }

    .card-status {
      position: absolute;
      top: 12px;
      left: 14px;
      padding: 3px 10px;
      border-radius: 999px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      background: var(--gold);
      color: #351104;
    }

    .poster-wrap {
      border-radius: 14px;
      overflow: hidden;
      border: 2px solid rgba(255, 200, 87, 0.92);
      background: #000;
      height: 260px;
      display: flex;
      align-items: stretch;
      justify-content: center;
    }

    .poster-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .card-meta {
      padding: 8px 4px 0;
    }

    .card-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-main);
    }

    .card-meta-line {
      margin-top: 4px;
      font-size: 12px;
      color: var(--text-muted);
    }

    /* ---------- film strip divider ---------- */

    .film-strip {
      width: 100%;
      height: 16px;
      margin: 40px 0 18px;
      background: repeating-linear-gradient(
        to right,
        #000 0,
        #000 26px,
        #ffcf70 26px,
        #ffcf70 34px
      );
      box-shadow: 0 10px 25px rgba(0,0,0,0.75);
    }

    /* ---------- achievements ---------- */

    .achievements-section {
      margin-top: 56px;
      text-align: center;
    }

    .achievements-title {
      font-family: "Cinzel", serif;
      font-size: 22px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 18px;
    }

    .achievements-sub {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 22px;
    }

    .achievements-row {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      justify-content: center;
    }

    .achievement-card {
      width: 150px;
      padding: 14px 10px;
      border-radius: 14px;
      background: radial-gradient(circle at top, rgba(255,255,255,0.07) 0, transparent 60%),
                  #170307;
      border: 2px solid rgba(255, 200, 87, 0.85);
      color: var(--gold-soft);
      text-align: center;
      box-shadow: 0 8px 22px rgba(0,0,0,0.9);
      font-size: 13px;
    }

    .achievement-card .icon {
      font-size: 22px;
      margin-bottom: 6px;
    }

    .achievement-card.locked {
      opacity: 0.4;
      border-style: dashed;
    }

    /* ---------- modal ---------- */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(0,0,0,0.85), rgba(0,0,0,0.98));
      display: none;
      align-items: center;
      justify-content: center;
      padding: 24px 12px;
      z-index: 50;
    }

    .modal-backdrop.show {
      display: flex;
    }

    .modal-panel {
      max-width: 920px;
      width: 100%;
      max-height: 90vh;
      background: linear-gradient(180deg, #25040a 0%, #0c0305 55%, #050307 100%);
      border-radius: 24px;
      border: 2px solid rgba(255, 200, 87, 0.9);
      box-shadow: 0 30px 70px rgba(0,0,0,0.95);
      overflow-y: auto;
      position: relative;
    }

    .modal-film-strip-top,
    .modal-film-strip-bottom {
      height: 18px;
      background: repeating-linear-gradient(
        to right,
        #000 0,
        #000 30px,
        #ffcf70 30px,
        #ffcf70 40px
      );
    }

    .modal-content-area {
      padding: 24px 26px 26px;
    }

    .modal-close {
      position: absolute;
      top: 16px;
      right: 18px;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: #000;
      color: var(--gold);
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(0,0,0,0.8);
    }

    .modal-main {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .modal-poster {
      flex: 0 0 220px;
      border-radius: 16px;
      overflow: hidden;
      border: 3px solid rgba(255, 200, 87, 0.95);
      background: #000;
    }

    .modal-poster img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .modal-info {
      flex: 1 1 260px;
      min-width: 0;
    }

    .modal-title {
      font-family: "Cinzel", serif;
      font-size: 26px;
      color: var(--gold);
    }

    .modal-director {
      margin-top: 4px;
      font-size: 15px;
      color: var(--text-muted);
    }

    .modal-tags {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .pill {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255, 200, 87, 0.14);
      border: 1px solid rgba(255, 200, 87, 0.8);
      color: var(--gold-soft);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .modal-meta-row {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px 24px;
      font-size: 13px;
      color: var(--gold-soft);
    }

    .modal-meta-row span i {
      margin-right: 6px;
      color: var(--gold);
    }

    .modal-section {
      margin-top: 18px;
      font-size: 14px;
    }

    .modal-section-title {
      font-size: 15px;
      color: var(--gold);
      margin-bottom: 6px;
    }

    .modal-section-body {
      color: var(--text-main);
      line-height: 1.5;
    }

    .tag-chips {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-top: 4px;
    }

    .tag-chips .chip {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(10,10,10,0.85);
      border: 1px solid rgba(255,200,87,0.7);
      color: var(--gold-soft);
    }

    .modal-actions {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .btn {
      padding: 8px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,200,87,0.9);
      background: radial-gradient(circle at top, rgba(255,255,255,0.1) 0, transparent 60%),
                  #1a0509;
      color: var(--gold-soft);
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn i {
      font-size: 13px;
    }

    .btn.secondary {
      border-style: dashed;
      opacity: 0.9;
    }

    /* ---------- responsive ---------- */

    @media (max-width: 768px) {
      .bo-header-inner {
        padding-inline: 18px;
      }
      .bo-title {
        letter-spacing: 0.16em;
      }
      .modal-main {
        flex-direction: column;
      }
      .modal-poster {
        max-width: 260px;
        margin-inline: auto;
      }
      .section-banner .icon {
        display: none;
      }
    }

    @media (max-width: 600px) {
      .movie-card {
        flex: 0 0 190px;
      }
      .poster-wrap {
        height: 230px;
      }
    }

    /* FILTER DROPDOWN — FIXED & RESTYLED -------------------------------------------------- */

.filter-dropdown-wrapper {
    position: relative;
}

/* Trigger Button */
.filter-trigger {
    padding: 8px 18px;
    background: linear-gradient(180deg, #5a090f 0%, #260104 60%, #120104 100%);
    color: var(--gold);
    border: 1px solid var(--gold);
    border-radius: 999px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    box-shadow: 0 0 10px rgba(255,200,87,0.3);
    transition: 0.2s ease;
}

.filter-trigger:hover {
    box-shadow: 0 0 14px rgba(255,200,87,0.6);
    transform: translateY(-1px);
}

/* Dropdown Panel */
.filter-dropdown {
    position: absolute;
    top: 48px;
    right: 0;
    width: 280px;
    background: linear-gradient(180deg, #4d080c 0%, #120104 100%);
    border: 1px solid var(--gold);
    border-radius: 16px;
    padding: 18px;
    display: none;        /* <—— FIX: hidden on refresh */
    flex-direction: column;
    gap: 18px;
    z-index: 30;
    box-shadow: 0 0 18px rgba(0,0,0,0.8), 0 0 25px rgba(255,200,87,0.3);
    animation: dropdownFade 0.25s ease-out;
}

@keyframes dropdownFade {
    from { opacity: 0; transform: translateY(-6px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Section Title */
.filter-header {
    font-family: "Cinzel", serif;
    font-size: 14px;
    color: var(--gold);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-bottom: 8px;
}

/* Spacing fix (stacked sections) */
.filter-section {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(255,200,87,0.25);
}

.filter-section:last-of-type {
    border-bottom: none;
}

/* Toggle Chips ---------------------------------- */
.filter-chip {
    display: flex;
    align-items: center;
    padding: 6px 10px;
    background: rgba(255,200,87,0.1);
    border: 1px solid rgba(255,200,87,0.4);
    border-radius: 10px;
    color: var(--text-main);
    font-size: 13px;
    cursor: pointer;
    transition: 0.2s ease;
    gap: 8px;
}

.filter-chip:hover {
    background: rgba(255,200,87,0.25);
}

/* When chip is active */
.filter-chip.active {
    background: var(--gold);
    color: #351104;
    border-color: var(--gold);
}

/* Hide the default checkbox */
.filter-chip input {
    display: none;
}

/* Apply + Clear buttons --------------------------- */
.filter-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 4px;
}

.clear-btn, .apply-btn {
    padding: 6px 14px;
    border-radius: 999px;
    border: 1px solid var(--gold);
    font-size: 13px;
    cursor: pointer;
    transition: 0.2s ease;
}

.clear-btn {
    background: transparent;
    color: var(--gold);
}

.clear-btn:hover {
    background: rgba(255,200,87,0.15);
}

.apply-btn {
    background: var(--gold);
    color: #351104;
}

.apply-btn:hover {
    filter: brightness(1.1);
}


.filter-trigger {
    padding: 8px 16px;
    background: linear-gradient(180deg, #5a090f 0%, #260104 60%, #120104 100%);
    color: var(--gold);
    border: 1px solid var(--gold);
    border-radius: 999px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    box-shadow: 0 0 10px rgba(255,200,87,0.4);
}

.filter-trigger:hover {
    box-shadow: 0 0 14px rgba(255,200,87,0.6);
}

.filter-dropdown {
    position: absolute;
    top: 50px;
    right: 0;
    width: 260px;
    background: linear-gradient(180deg, #4d080c 0%, #120104 100%);
    border: 1px solid var(--gold);
    border-radius: 18px;
    padding: 16px;
    display: none;
    flex-direction: column;
    gap: 16px;
    z-index: 30;
    box-shadow: 0 0 20px rgba(0,0,0,0.9), 0 0 25px rgba(255,200,87,0.4);
    animation: dropdownFade 0.2s ease-out;
}

@keyframes dropdownFade {
    from { opacity: 0; transform: translateY(-6px); }
    to { opacity: 1; transform: translateY(0); }
}

.filter-section {
    border-bottom: 1px solid rgba(255,200,87,0.3);
    padding-bottom: 10px;
}

.filter-header {
    font-family: "Cinzel";
    font-size: 13px;
    color: var(--gold);
    letter-spacing: 0.1em;
    margin-bottom: 6px;
    text-transform: uppercase;
}

.filter-section label {
    display: flex;
    gap: 8px;
    align-items: center;
    color: var(--text-main);
    font-size: 13px;
    cursor: pointer;
}

.filter-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
}

.clear-btn, .apply-btn {
    padding: 6px 12px;
    border-radius: 999px;
    border: 1px solid var(--gold);
    background: #1a0509;
    color: var(--gold-soft);
    cursor: pointer;
}

.apply-btn {
    background: var(--gold);
    color: #351104;
}


    
  </style>
</head>
<body onload="openCurtains()">

    <!-- PAGE OPENING TRANSITION -->
    <div id="curtain-overlay">
        <!-- The curtain color is now correctly derived from --red-light -->
        <div id="left-curtain" class="curtain"></div>
        <div id="right-curtain" class="curtain"></div>
        <!-- UPDATED ACTION! TEXT -->
        <div class="absolute action-text" style="z-index: 1001;">
            ACTION!
        </div>
    </div>

  <div class="page-wrap">
    <button class="back-link" onclick="window.location.href='index.html'">
      <i class="fa-solid fa-arrow-left"></i> Back to The Nook
    </button>

    <!-- marquee header -->
    <header class="bo-header-outer">
      <div class="bo-header-inner">
        <div class="bo-title">
          <i class="fa-solid fa-film"></i>
          BOX OFFICE
          <i class="fa-solid fa-film"></i>
        </div>
        <div class="bo-subtitle">THE NOOK CINEMA</div>
      </div>
    </header>

    <!-- search & filters -->
    <section class="search-bar-row">
      <div class="search-input-wrap">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input class="search-input" id="searchInput" onkeyup="filterMovies()" placeholder="Search films..." />
      </div>
      <div class="filter-group" id="filterGroup">
        <div class="filter-dropdown-wrapper">

    <button class="filter-trigger" onclick="toggleFilterDropdown()">
        <i class="fa-solid fa-filter"></i>
        Filters
        <i class="fa-solid fa-chevron-down"></i>
    </button>

    <div class="filter-dropdown" id="filterDropdown">
        <div class="filter-section">
            <div class="filter-header">Status</div>
            <label><input type="checkbox" data-filter-type="status" value="Now Showing"> Now Showing</label>
            <label><input type="checkbox" data-filter-type="status" value="Premiere"> Premieres</label>
            <label><input type="checkbox" data-filter-type="status" value="Archived"> The Vault</label>
        </div>

        <div class="filter-section">
            <div class="filter-header">Genre</div>
            <label><input type="checkbox" data-filter-type="genre" value="sci-fi"> Sci-Fi</label>
            <label><input type="checkbox" data-filter-type="genre" value="fantasy"> Fantasy</label>
            <label><input type="checkbox" data-filter-type="genre" value="drama"> Drama</label>
            <label><input type="checkbox" data-filter-type="genre" value="thriller"> Thriller</label>
        </div>

        <div class="filter-section">
            <div class="filter-header">Mood</div>
            <label><input type="checkbox" data-filter-type="mood" value="epic"> Epic</label>
            <label><input type="checkbox" data-filter-type="mood" value="dreamy"> Dreamy</label>
            <label><input type="checkbox" data-filter-type="mood" value="moody"> Moody</label>
            <label><input type="checkbox" data-filter-type="mood" value="whimsical"> Whimsical</label>
        </div>

        <div class="filter-section">
            <div class="filter-header">Sort</div>
            <label><input type="radio" name="sort" data-filter-type="sort" value="recently_added"> Recently Added</label>
        </div>

        <div class="filter-actions">
            <button class="clear-btn" onclick="clearFilterPanel()">Clear</button>
            <button class="apply-btn" onclick="applyFilterPanel()">Apply</button>
        </div>
    </div>

</div>

    </section>

    <!-- NOW SHOWING -->
    <section class="section">
      <div class="section-banner">
        <span class="icon left"><i class="fa-solid fa-clapperboard"></i></span>
        <span class="icon right"><i class="fa-solid fa-clapperboard"></i></span>
        <div class="section-banner-title">NOW SHOWING</div>
        <div class="section-banner-sub">CURRENTLY WATCHING</div>
      </div>

      <div class="card-row">
        <!-- sample movie 1 -->
        <article class="movie-card"
          data-title="Dune: Part Two"
          data-director="Denis Villeneuve"
          data-year="2024"
          data-runtime="166 minutes"
          data-rating="5/5 stars"
          data-started="Nov 28, 2024"
          data-completed=""
          data-cast="Timothée Chalamet, Zendaya, Rebecca Ferguson, Josh Brolin"
          data-tags="sci-fi, epic, cinematic masterpiece"
          data-mood="Epic"
          data-status="Now Showing">
          <div class="card-status">Now Showing</div>
          <div class="poster-wrap">
            <img src="https://images.pexels.com/photos/1257860/pexels-photo-1257860.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Dune Poster" />
          </div>
          <div class="card-meta">
            <div class="card-title">Dune: Part Two</div>
            <div class="card-meta-line">2024 • Sci-Fi, Adventure</div>
          </div>
        </article>

        <!-- sample movie 2 -->
        <article class="movie-card"
          data-title="Poor Things"
          data-director="Yorgos Lanthimos"
          data-year="2023"
          data-runtime="141 minutes"
          data-rating="4.5/5 stars"
          data-started="Nov 30, 2024"
          data-completed=""
          data-cast="Emma Stone, Mark Ruffalo, Willem Dafoe"
          data-synopsis="Brought back to life by a brilliant scientist, Bella Baxter runs off with a lawyer on a whirlwind adventure across continents."
          data-tags="surreal, eccentric, award winner, fantasy, drama"
          data-mood="Whimsical"
          data-status="Now Showing">
          <div class="card-status">Now Showing</div>
          <div class="poster-wrap">
            <img src="https://images.pexels.com/photos/6898859/pexels-photo-6898859.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Poor Things Poster" />
          </div>
          <div class="card-meta">
            <div class="card-title">Poor Things</div>
            <div class="card-meta-line">2023 • Fantasy, Drama</div>
          </div>
        </article>
      </div>
    </section>

    <div class="film-strip"></div>

    <!-- PREMIERES / WATCHLIST -->
    <section class="section">
      <div class="section-banner">
        <span class="icon left"><i class="fa-solid fa-ticket"></i></span>
        <span class="icon right"><i class="fa-solid fa-ticket"></i></span>
        <div class="section-banner-title">PREMIERES</div>
        <div class="section-banner-sub">YOUR WATCHLIST</div>
      </div>

      <div class="card-row">
        <article class="movie-card"
          data-title="Oppenheimer"
          data-director="Christopher Nolan"
          data-year="2023"
          data-runtime="180 minutes"
          data-rating="—"
          data-started=""
          data-completed="Upcoming"
          data-cast="Cillian Murphy, Emily Blunt, Robert Downey Jr."
          data-synopsis="The story of J. Robert Oppenheimer and his role in the development of the atomic bomb."
          data-tags="historical, award winner, biopic, drama, history, intense"
          data-mood="Intense"
          data-status="Premiere">
          <div class="card-status">Premiere</div>
          <div class="poster-wrap">
            <img src="https://images.pexels.com/photos/7991373/pexels-photo-7991373.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Oppenheimer Poster" />
          </div>
          <div class="card-meta">
            <div class="card-title">Oppenheimer</div>
            <div class="card-meta-line">2023 • Drama, History</div>
          </div>
        </article>

        <article class="movie-card"
          data-title="Spirited Away"
          data-director="Hayao Miyazaki"
          data-year="2001"
          data-runtime="125 minutes"
          data-rating="—"
          data-started=""
          data-completed="Upcoming"
          data-cast="Rumi Hiiragi, Miyu Irino"
          data-synopsis="A young girl becomes trapped in a mysterious, magical world of spirits and must find a way to free herself and her parents."
          data-tags="animation, fantasy, comfort watch"
          data-mood="Dreamy"
          data-status="Premiere">
          <div class="card-status">Premiere</div>
          <div class="poster-wrap">
            <img src="https://images.pexels.com/photos/7991433/pexels-photo-7991433.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Spirited Away Poster" />
          </div>
          <div class="card-meta">
            <div class="card-title">Spirited Away</div>
            <div class="card-meta-line">2001 • Animation, Fantasy</div>
          </div>
        </article>
      </div>
    </section>

    <div class="film-strip"></div>

    <!-- THE VAULT / ARCHIVED -->
    <section class="section">
      <div class="section-banner">
        <span class="icon left"><i class="fa-solid fa-vault"></i></span>
        <span class="icon right"><i class="fa-solid fa-vault"></i></span>
        <div class="section-banner-title">THE VAULT</div>
        <div class="section-banner-sub">FILMS ARCHIVED</div>
      </div>

      <div class="card-row">
        <article class="movie-card"
          data-title="Casablanca"
          data-director="Michael Curtiz"
          data-year="1942"
          data-runtime="102 minutes"
          data-rating="5/5 stars"
          data-started="Oct 10, 2024"
          data-completed="Oct 10, 2024"
          data-cast="Humphrey Bogart, Ingrid Bergman, Paul Henreid"
          data-synopsis="A cynical expatriate American cafe owner in Morocco struggles to decide whether to help his former lover and her fugitive husband escape the Nazis."
          data-tags="classic, romance, war"
          data-mood="Bittersweet"
          data-status="Archived">
          <div class="card-status">Archived</div>
          <div class="poster-wrap">
            <img src="https://images.pexels.com/photos/7991439/pexels-photo-7991439.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Casablanca Poster" />
          </div>
          <div class="card-meta">
            <div class="card-title">Casablanca</div>
            <div class="card-meta-line">1942 • Drama, Romance</div>
          </div>
        </article>

        <article class="movie-card"
          data-title="Blade Runner 2049"
          data-director="Denis Villeneuve"
          data-year="2017"
          data-runtime="164 minutes"
          data-rating="4.5/5 stars"
          data-started="Sep 14, 2024"
          data-completed="Sep 15, 2024"
          data-cast="Ryan Gosling, Harrison Ford, Ana de Armas"
          data-synopsis="A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard."
          data-tags="neo-noir, sci-fi, atmospheric"
          data-mood="Moody"
          data-status="Archived">
          <div class="card-status">Archived</div>
          <div class="poster-wrap">
            <img src="https://images.pexels.com/photos/7991600/pexels-photo-7991600.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Blade Runner Poster" />
          </div>
          <div class="card-meta">
            <div class="card-title">Blade Runner 2049</div>
            <div class="card-meta-line">2017 • Sci-Fi, Thriller</div>
          </div>
        </article>
      </div>
    </section>

    <div class="film-strip"></div>

    <!-- Achievements -->
    <section class="achievements-section">
      <div class="achievements-title">
        <i class="fa-solid fa-ticket"></i> Your Achievements
      </div>
      <div class="achievements-sub">
        Unlock little cinema trophies as you log more films.
      </div>

      <div class="achievements-row">
        <div class="achievement-card">
          <div class="icon"><i class="fa-solid fa-film"></i></div>
          <div>First Premiere</div>
        </div>
        <div class="achievement-card">
          <div class="icon"><i class="fa-solid fa-trophy"></i></div>
          <div>Century Club (100 Films)</div>
        </div>
        <div class="achievement-card">
          <div class="icon"><i class="fa-solid fa-ghost"></i></div>
          <div>Horror Survivor</div>
        </div>
        <div class="achievement-card locked">
          <div class="icon"><i class="fa-regular fa-heart"></i></div>
          <div>Hopeless Romantic</div>
        </div>
        <div class="achievement-card locked">
          <div class="icon"><i class="fa-solid fa-masks-theater"></i></div>
          <div>Cult Connoisseur</div>
        </div>
      </div>
    </section>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="movieModal">
    <div class="modal-panel">
      <div class="modal-film-strip-top"></div>

      <button class="modal-close" onclick="closeModal()">
        <i class="fa-solid fa-xmark"></i>
      </button>

      <div class="modal-content-area">
        <div class="modal-main">
          <div class="modal-poster">
            <img id="modalPoster" src="" alt="Poster" />
          </div>
          <div class="modal-info">
            <div class="modal-title" id="modalTitle">Movie Title</div>
            <div class="modal-director" id="modalDirector">Director • Year</div>

            <div class="modal-tags" id="modalGenres">
              <!-- filled by JS if needed -->
              <span class="pill" id="modalStatusPill">Now Showing</span>
            </div>

            <div class="modal-meta-row">
              <span><i class="fa-regular fa-clock"></i><span id="modalRuntime">—</span></span>
              <span><i class="fa-solid fa-star"></i><span id="modalRating">—</span></span>
              <span><i class="fa-regular fa-calendar-plus"></i>Started: <span id="modalStarted">—</span></span>
              <span><i class="fa-regular fa-calendar-check"></i>Completed: <span id="modalCompleted">—</span></span>
              <span><i class="fa-regular fa-face-smile"></i>Mood: <span id="modalMood">—</span></span>
            </div>
          </div>
        </div>

        <div class="modal-section">
          <div class="modal-section-title">Cast</div>
          <div class="modal-section-body" id="modalCast"></div>
        </div>

        <div class="modal-section">
          <div class="modal-section-title">Synopsis</div>
          <div class="modal-section-body" id="modalSynopsis"></div>
        </div>

        <div class="modal-section">
          <div class="modal-section-title">Tags</div>
          <div class="tag-chips" id="modalTags"></div>
        </div>

        <div class="modal-section">
          <div class="modal-section-title">My Review</div>
          <div class="modal-section-body" id="modalReview">
            “A visual masterpiece that pulls me straight back into the cinema every time.”
          </div>
        </div>

        <div class="modal-actions">
          <button class="btn">
            <i class="fa-solid fa-star"></i> Rate
          </button>
          <button class="btn">
            <i class="fa-solid fa-rotate-right"></i> Log Rewatch
          </button>
          <button class="btn secondary">
            <i class="fa-solid fa-list"></i> Add to Playlist
          </button>
        </div>
      </div>

      <div class="modal-film-strip-bottom"></div>
    </div>
  </div>

  <script>
    // --- 1. OPENING TRANSITION LOGIC (Updated to 0.8s) ---
        function openCurtains() {
            setTimeout(() => {
                document.getElementById('left-curtain').classList.add('open');
                document.getElementById('right-curtain').classList.add('open');
                
                // Remove the entire overlay after transition for interaction (0.6s delay + 0.8s transition = 1.4s total)
                setTimeout(() => {
                    document.getElementById('curtain-overlay').classList.add('fade-out');
                }, 600); // Changed from 1600ms to 600ms
            }, 500); 
        }

    const modal = document.getElementById("movieModal");
    const movieCards = document.querySelectorAll(".movie-card");
    const searchInput = document.getElementById("searchInput");
    let activeFilters = {}; // { type: value }

    const modalPoster = document.getElementById("modalPoster");
    const modalTitle = document.getElementById("modalTitle");
    const modalDirector = document.getElementById("modalDirector");
    const modalRuntime = document.getElementById("modalRuntime");
    const modalRating = document.getElementById("modalRating");
    const modalStarted = document.getElementById("modalStarted");
    const modalCompleted = document.getElementById("modalCompleted");
    const modalMood = document.getElementById("modalMood");
    const modalCast = document.getElementById("modalCast");
    const modalSynopsis = document.getElementById("modalSynopsis");
    const modalTags = document.getElementById("modalTags");
    const modalStatusPill = document.getElementById("modalStatusPill");

    function openModal(card) {
      modalPoster.src = card.querySelector("img").src;
      modalTitle.textContent = card.dataset.title;
      modalDirector.textContent = `${card.dataset.director} • ${card.dataset.year}`;
      modalRuntime.textContent = card.dataset.runtime || "—";
      modalRating.textContent = card.dataset.rating || "—";
      modalStarted.textContent = card.dataset.started || "—";
      modalCompleted.textContent = card.dataset.completed || "—";
      modalMood.textContent = card.dataset.mood || "—";
      modalCast.textContent = card.dataset.cast || "—";
      modalSynopsis.textContent = card.dataset.synopsis || "";

      // status from badge
      const status = card.querySelector(".card-status")?.textContent || "";
      modalStatusPill.textContent = status;

      // tags
      modalTags.innerHTML = "";
      const tags = (card.dataset.tags || "").split(",");
      tags.forEach(t => {
        const trimmed = t.trim();
        if (!trimmed) return;
        const chip = document.createElement("span");
        chip.className = "chip";
        chip.textContent = trimmed;
        modalTags.appendChild(chip);
      });

      modal.classList.add("show");
    }

    function closeModal() {
      modal.classList.remove("show");
    }

    document.querySelectorAll(".movie-card").forEach(card => {
      card.addEventListener("click", () => openModal(card));
    });

    // click outside the panel to close
    modal.addEventListener("click", e => {
      if (e.target === modal) closeModal();
    });

    document.addEventListener("keydown", e => {
      if (e.key === "Escape") closeModal();
    });

    // --- Filter Functionality ---

    /**
     * Toggles a filter and updates the movie display.
     * @param {string} type - The filter category (e.g., 'status', 'genre', 'mood').
     * @param {string} value - The filter value (e.g., 'Premiere', 'Sci-Fi', 'Epic').
     * @param {HTMLElement} button - The button element that was clicked.
     */
    window.toggleFilter = (type, value, button) => {
        // 1. Manage Active State
        if (activeFilters[type] === value) {
            // Deactivate filter
            delete activeFilters[type];
            if (button) button.classList.remove('active');
        } else {
            // Activate filter
            // Clear any other pills of the same type
            document.querySelectorAll(`.filter-pill`).forEach(btn => {
                if (btn.getAttribute('onclick')?.includes(`toggleFilter('${type}'`)) {
                    btn.classList.remove('active');
                }
            });

            activeFilters[type] = value;
            if (button) button.classList.add('active');
        }

        // 2. Re-run filtering
        filterMovies();
    };

    /**
     * Clears all active filters and updates the UI/movie display.
     */
    window.clearAllFilters = () => {
        activeFilters = {};
        searchInput.value = '';
        document.querySelectorAll('.filter-pill').forEach(btn => btn.classList.remove('active'));
        filterMovies();
    };

    /**
     * Executes all active filters and updates card visibility.
     */
    window.filterMovies = () => {
        const searchTerm = searchInput.value.toLowerCase().trim();

        movieCards.forEach(card => {
            let matches = true;
            
            // --- 1. Search Filter ---
            if (searchTerm.length > 0) {
                const searchFields = [
                    card.dataset.title,
                    card.dataset.director,
                    card.dataset.cast,
                    card.dataset.tags
                ].join(' ').toLowerCase();

                if (!searchFields.includes(searchTerm)) {
                    matches = false;
                }
            }

            // --- 2. Pill Filters ---
            for (const type in activeFilters) {
                if (!matches) break; // If search already failed, skip checking pills

                const filterValue = activeFilters[type];
                
                if (type === 'status') {
                    // Match the card's status
                    if (card.dataset.status !== filterValue) {
                        matches = false;
                    }
                } else if (type === 'genre' || type === 'mood' || type === 'year') {
                    // Match tags/mood/year based on content
                    const dataToCheck = (card.dataset.tags + ' ' + card.dataset.mood + ' ' + card.dataset.year).toLowerCase();
                    if (!dataToCheck.includes(filterValue.toLowerCase())) {
                        matches = false;
                    }
                }
                // Note: Sort filter only affects display order, not visibility.
            }

            // --- 3. Update Visibility ---
            if (matches) {
                card.classList.remove('hidden-filter');
            } else {
                card.classList.add('hidden-filter');
            }
        });
        
        // Sorting logic (simplified in-place reverse for "Recently Added")
        if (activeFilters.sort === 'recently_added') {
            const rowElements = document.querySelectorAll('.card-row');
            rowElements.forEach(row => {
                const visibleCards = Array.from(row.querySelectorAll('.movie-card:not(.hidden-filter)'));
                if (visibleCards.length > 1) {
                    // Reverse the order of cards in the DOM
                    visibleCards.reverse().forEach(card => row.appendChild(card));
                }
            });
        }
    };
    function toggleFilterDropdown() {
    const panel = document.getElementById("filterDropdown");
    panel.style.display = panel.style.display === "flex" ? "none" : "flex";
}

function clearFilterPanel() {
    document.querySelectorAll("#filterDropdown input").forEach(i => i.checked = false);
}

function applyFilterPanel() {
    // TODO: hook into your existing filterMovies() logic
    filterMovies();
    toggleFilterDropdown();
}

  </script>
</body>
</html>